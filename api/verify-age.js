(No subject)
Sarah Walmsley
​You​
export default async function handler(req, res) { // Only allow POST requests if (req.method !== 'POST') { return res.status(405).json({ verified: false, reason: 'Method not allowed' }); } try { const { email } = req.body; if (!email) { return res.status(400).json({ verified: false, reason: 'Email is required' }); } // Call VerifyMyAge API const response = await fetch('https://api.verifymyage.com/v1/verify', { method: 'POST', headers: { 'Content-Type': 'application/json', 'Authorization': '3c3e534f-a7a3-4c7c-b7a9-15e17e01bcacc36894480f22255716e28eaeb0cea0e8101363cd0194574e80c878132ec69477'}, body: JSON.stringify({ email }) }); const data = await response.json(); // Check the response from VerifyMyAge if (data.age_verified) { return res.status(200).json({ verified: true }); } else { return res.status(200).json({ verified: false }); } } catch (error) { console.error('VerifyMyAge API error:', error); return res.status(500).json({ verified: false, reason: 'Server error' }); } }
